[build]
command = """
    export JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64
    if [ ! -d "$JAVA_HOME" ]; then
        echo "Java 17 not found at standard path, looking elsewhere..."
        export JAVA_HOME=$(find /usr/lib/jvm -name "java-17*" -type d | head -n 1)
    fi

    export PATH=$JAVA_HOME/bin:$PATH
    echo "Java Home is: $JAVA_HOME"
    java -version

    chmod +x gradlew
    ./gradlew jsBrowserDistribution
  """
publish = "composeApp/build/dist/js/productionExecutable"

[build.environment]
JAVA_VERSION = "17"
# Android SDK kerak emasligi uchun uni o'chirib turamiz
ANDROID_HOME = ""
